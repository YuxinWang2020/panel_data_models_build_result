%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[a4paper,11pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{times}
\expandafter\ifx\csname T@LGR\endcsname\relax
\else
% LGR was declared as font encoding
  \substitutefont{LGR}{\rmdefault}{cmr}
  \substitutefont{LGR}{\sfdefault}{cmss}
  \substitutefont{LGR}{\ttdefault}{cmtt}
\fi
\expandafter\ifx\csname T@X2\endcsname\relax
  \expandafter\ifx\csname T@T2A\endcsname\relax
  \else
  % T2A was declared as font encoding
    \substitutefont{T2A}{\rmdefault}{cmr}
    \substitutefont{T2A}{\sfdefault}{cmss}
    \substitutefont{T2A}{\ttdefault}{cmtt}
  \fi
\else
% X2 was declared as font encoding
  \substitutefont{X2}{\rmdefault}{cmr}
  \substitutefont{X2}{\sfdefault}{cmss}
  \substitutefont{X2}{\ttdefault}{cmtt}
\fi


\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}


\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}



\title{Documentation of the Panel Data Models with Fixed Effects project}
\date{29 March 2021}
\release{}
\author{Yuxin Wang}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\chapter{Introduction}
\label{\detokenize{introduction:introduction}}\label{\detokenize{introduction:id1}}\label{\detokenize{introduction::doc}}
\sphinxAtStartPar
In this project we present the main ideas of Bai (2009), Bai and Ng (2002), and Moon and Weidner (2015). We start with comparing the convergence properties and identification conditions for least squares estimators in panel data models, and then use econometric theory for factor model estimations in practice. We provide the algorithms in Bai (2009) and Bai, Ng (2002) in Python, replicate some Monte Carlo simulation results of the papers and investigate the simulation with other data generating processes and visualize them in R Language. In the end, we return to the previous empirical example and look at the estimation using the estimator proposed by Bai (2009).


\section{Project structure}
\label{\detokenize{introduction:project-structure}}\label{\detokenize{introduction:id2}}
\sphinxAtStartPar
The logic of this project works by step of the analysis:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Data management

\item {} 
\sphinxAtStartPar
Monte Carlo simulations and real data application

\item {} 
\sphinxAtStartPar
Visualisation and results formatting

\item {} 
\sphinxAtStartPar
Research paper and presentation

\end{enumerate}

\sphinxAtStartPar
The main part of this project is Monte Carlo simulations and real data estimation. See section {\hyperref[\detokenize{analysis:monte-carlo-simulations-and-real-data-application}]{\sphinxcrossref{\DUrole{std,std-ref}{Monte Carlo Simulations and Real Data Application}}}} for more detail.


\section{Getting started}
\label{\detokenize{introduction:getting-started}}\label{\detokenize{introduction:id3}}
\sphinxAtStartPar
\sphinxstylestrong{This assumes you have installed:}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Miniconda or Anaconda

\item {} 
\sphinxAtStartPar
a modern LaTeX distribution (e.g. TeXLive, MacTex, or MikTex)

\end{itemize}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Create the environment from the \sphinxtitleref{environment.yml} file.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{g+gp}{\PYGZdl{} }conda env create \PYGZhy{}f environment.yml
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Activate the newly created conda environment.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{g+gp}{\PYGZdl{} }conda activate panel\PYGZus{}data\PYGZus{}models\PYGZus{}with\PYGZus{}fixed\PYGZus{}effects
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
Run pytask to start all tasks automaticly.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{g+gp}{\PYGZdl{} }conda develop .
\PYG{g+gp}{\PYGZdl{} }pytask
\end{sphinxVerbatim}

\sphinxAtStartPar
After that, all build result can be found in \sphinxtitleref{bld} folder.


\section{Built result}
\label{\detokenize{introduction:built-result}}\label{\detokenize{introduction:id4}}
\sphinxAtStartPar
The main analysis task takes hours to run. For quickly scan, some built result can be found in this repository:
\sphinxhref{https://github.com/YuxinWang2020/panel\_data\_models\_build\_result}{panel\_data\_models\_build\_result}


\chapter{Original data}
\label{\detokenize{original_data:original-data}}\label{\detokenize{original_data:id1}}\label{\detokenize{original_data::doc}}
\sphinxAtStartPar
Documentation of the different datasets in \sphinxstyleemphasis{original\_data}.


\section{Cigar}
\label{\detokenize{original_data:cigar}}
\sphinxAtStartPar
Baltagi and Levin (1992) studied the demand for cigarettes in US states using a panel data model.

\sphinxAtStartPar
The data set is a panel of 46 observations from 1963 to 1992.

\sphinxAtStartPar
Containing :
\begin{itemize}
\item {} 
\sphinxAtStartPar
state: state abbreviation

\item {} 
\sphinxAtStartPar
year: the year

\item {} 
\sphinxAtStartPar
price: price per pack of cigarettes

\item {} 
\sphinxAtStartPar
pop: population

\item {} 
\sphinxAtStartPar
pop16: population above the age of 16

\item {} 
\sphinxAtStartPar
cpi: consumer price index (1983=100)

\item {} 
\sphinxAtStartPar
ndi: per capita disposable income

\item {} 
\sphinxAtStartPar
sales: cigarette sales in packs per capita

\item {} 
\sphinxAtStartPar
pimin: minimum price in adjoining states per pack of cigarettes

\end{itemize}


\chapter{Data management}
\label{\detokenize{data_management:data-management}}\label{\detokenize{data_management:id1}}\label{\detokenize{data_management::doc}}
\sphinxAtStartPar
Documentation of the code in \sphinxstyleemphasis{src/data\_management}.


\section{Cigar Data Processing}
\label{\detokenize{data_management:module-src.data_management.task_get_cigar_data}}\label{\detokenize{data_management:cigar-data-processing}}\index{module@\spxentry{module}!src.data\_management.task\_get\_cigar\_data@\spxentry{src.data\_management.task\_get\_cigar\_data}}\index{src.data\_management.task\_get\_cigar\_data@\spxentry{src.data\_management.task\_get\_cigar\_data}!module@\spxentry{module}}
\sphinxAtStartPar
Compute the logarithm of all variables and adjust the monetary variables for the general
consumer price index. Also compute a lagged consumption variable.


\chapter{Monte Carlo Simulations and Real Data Application}
\label{\detokenize{analysis:monte-carlo-simulations-and-real-data-application}}\label{\detokenize{analysis:id1}}\label{\detokenize{analysis::doc}}
\sphinxAtStartPar
Documentation of the code in \sphinxstyleemphasis{src.analysis}. This is the core of the project.

\sphinxAtStartPar
The analysis in this project contains three aspects:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} \begin{description}
\item[{Estimation of slope coefficients}] \leavevmode\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumii}{enumiii}{}{.}%
\item {} 
\sphinxAtStartPar
Monte carlo simulations under IID assumptions

\item {} 
\sphinxAtStartPar
Monte carlo simulations under ARI time fixed effects

\item {} 
\sphinxAtStartPar
Starting Values in the additive fixed effects model

\end{enumerate}

\end{description}

\item {} \begin{description}
\item[{Estimation of the number of factors}] \leavevmode\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumii}{enumiii}{}{.}%
\item {} 
\sphinxAtStartPar
Estimate parameters in interactive fixed effects model by using different numbers of factors

\item {} 
\sphinxAtStartPar
Estimate factor numbers in interactive fixed effects model by choosing different penalty functions and criterias

\end{enumerate}

\end{description}

\item {} \begin{description}
\item[{Real data application}] \leavevmode\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumii}{enumiii}{}{.}%
\item {} 
\sphinxAtStartPar
Use a panel data set of 46 observations from 1963 to 1992

\item {} 
\sphinxAtStartPar
Estimate the coefficients and factor numbers by using the model in Baltagi and Levin (1992)

\end{enumerate}

\end{description}

\end{enumerate}

\sphinxAtStartPar
Process of Monte Carlo simulations:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Data generating processes for monte carlo simulations

\item {} 
\sphinxAtStartPar
Estimate model parameters by interactive\sphinxhyphen{}effects estimator and within estimator

\item {} 
\sphinxAtStartPar
Caculate statistical results for coefficients, including mean, bias, root\sphinxhyphen{}mean\sphinxhyphen{}square error, standard error and confidence interval

\end{enumerate}

\sphinxAtStartPar
Function \sphinxtitleref{simulation\_coefficient} in module \sphinxtitleref{src.analysis.simulation} is defined for running the simulations under different number of individuals and time periods over 1000 repetitions.


\section{Data Generating process for Monte Carlo Simulation}
\label{\detokenize{analysis:module-src.analysis.monte_carlo_dgp}}\label{\detokenize{analysis:data-generating-process-for-monte-carlo-simulation}}\index{module@\spxentry{module}!src.analysis.monte\_carlo\_dgp@\spxentry{src.analysis.monte\_carlo\_dgp}}\index{src.analysis.monte\_carlo\_dgp@\spxentry{src.analysis.monte\_carlo\_dgp}!module@\spxentry{module}}\index{dgp\_additive\_fixed\_effects\_model() (in module src.analysis.monte\_carlo\_dgp)@\spxentry{dgp\_additive\_fixed\_effects\_model()}\spxextra{in module src.analysis.monte\_carlo\_dgp}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.monte_carlo_dgp.dgp_additive_fixed_effects_model}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{dgp\_additive\_fixed\_effects\_model}}}{\emph{\DUrole{n}{T}}, \emph{\DUrole{n}{N}}, \emph{\DUrole{o}{*}}, \emph{\DUrole{n}{beta1}}, \emph{\DUrole{n}{beta2}}, \emph{\DUrole{o}{**}\DUrole{n}{kw}}}{}
\sphinxAtStartPar
Data generating process for “Interactive Fixed Effects Model with Common
Regressors and Time\sphinxhyphen{}invariant Regressors”
\begin{description}
\item[{T}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of time

\item[{N}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of entity

\item[{beta1}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x1

\item[{beta2}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x2

\end{description}
\begin{description}
\item[{X}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of exogenous or right\sphinxhyphen{}hand\sphinxhyphen{}side variables (variable by time by
entity).

\item[{Y}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of dependent (left\sphinxhyphen{}hand\sphinxhyphen{}side) variable (time by entity).

\end{description}
\begin{equation*}
\begin{split}y_{it} = \beta_{1}x_{it,1}+\beta_{2}x_{it,2}+\alpha_{i}+\xi_{t}+\epsilon_{it}\end{split}
\end{equation*}
\sphinxAtStartPar
Two fixed effects satisfy
\begin{equation*}
\begin{split}\alpha_{i}, \xi_{t}\stackrel{\text{i.i.d}}{\sim}N(0,1).\end{split}
\end{equation*}
\sphinxAtStartPar
Both of two fixed effects are correlated with the two regressors
\begin{equation*}
\begin{split}X_{it,j}=3+2\alpha_i+2\xi_t+\eta_{it,j},\end{split}
\end{equation*}
\sphinxAtStartPar
with
\begin{equation*}
\begin{split}\eta_{it,j}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
The error term satisfies
\begin{equation*}
\begin{split}\epsilon_{it} \stackrel{\text{i.i.d}}{\sim}N(0,4).\end{split}
\end{equation*}
\end{fulllineitems}

\index{dgp\_additive\_fixed\_effects\_model\_no\_iid() (in module src.analysis.monte\_carlo\_dgp)@\spxentry{dgp\_additive\_fixed\_effects\_model\_no\_iid()}\spxextra{in module src.analysis.monte\_carlo\_dgp}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.monte_carlo_dgp.dgp_additive_fixed_effects_model_no_iid}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{dgp\_additive\_fixed\_effects\_model\_no\_iid}}}{\emph{\DUrole{n}{T}}, \emph{\DUrole{n}{N}}, \emph{\DUrole{o}{*}}, \emph{\DUrole{n}{beta1}}, \emph{\DUrole{n}{beta2}}, \emph{\DUrole{o}{**}\DUrole{n}{kw}}}{}
\sphinxAtStartPar
Monte carlo data generate processor for “Interactive Fixed Effects Model with Common
Regressors and Time\sphinxhyphen{}invariant Regressors”
\begin{description}
\item[{T}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of time

\item[{N}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of entity

\item[{beta1}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x1

\item[{beta2}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x2

\end{description}
\begin{description}
\item[{X}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of Exogenous or right\sphinxhyphen{}hand\sphinxhyphen{}side variables (variable by time by
entity).

\item[{Y}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of Dependent (left\sphinxhyphen{}hand\sphinxhyphen{}side) variable (time by entity).

\end{description}
\begin{equation*}
\begin{split}y_{it} = \beta_{1}x_{it,1}+\beta_{2}x_{it,2}+\alpha_{i}+\xi_{t}+\epsilon_{it}\end{split}
\end{equation*}
\sphinxAtStartPar
Two fixed effects satisfy
\begin{equation*}
\begin{split}\alpha_{i} \stackrel{\text{i.i.d}}{\sim}N(0,1).
\xi_{t}=0.7 \cdot \xi_{t-1}+ u_{t},\end{split}
\end{equation*}
\sphinxAtStartPar
with:
\begin{equation*}
\begin{split}u_{t}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
Both of two fixed effects are correlated with the two regressors
\begin{equation*}
\begin{split}X_{it,j}=3+2\alpha_i+2\xi_t+\eta_{it,j},\end{split}
\end{equation*}
\sphinxAtStartPar
with
\begin{equation*}
\begin{split}\eta_{it,j}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
The error term satisfies
\begin{equation*}
\begin{split}\epsilon_{it} \stackrel{\text{i.i.d}}{\sim}N(0,4).\end{split}
\end{equation*}
\end{fulllineitems}

\index{dgp\_interactive\_fixed\_effects\_model() (in module src.analysis.monte\_carlo\_dgp)@\spxentry{dgp\_interactive\_fixed\_effects\_model()}\spxextra{in module src.analysis.monte\_carlo\_dgp}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.monte_carlo_dgp.dgp_interactive_fixed_effects_model}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{dgp\_interactive\_fixed\_effects\_model}}}{\emph{\DUrole{n}{T}}, \emph{\DUrole{n}{N}}, \emph{\DUrole{o}{*}}, \emph{\DUrole{n}{beta1}}, \emph{\DUrole{n}{beta2}}, \emph{\DUrole{n}{mu}}, \emph{\DUrole{o}{**}\DUrole{n}{kw}}}{}
\sphinxAtStartPar
Data generating process for “Interactive Fixed Effects Model”
\begin{description}
\item[{T}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of time

\item[{N}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of entity

\item[{beta1}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x1

\item[{beta2}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x2

\item[{mu}] \leavevmode{[}float{]}
\sphinxAtStartPar
Constant

\end{description}
\begin{description}
\item[{X}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of exogenous or right\sphinxhyphen{}hand\sphinxhyphen{}side variables (variable by time by
entity).

\item[{Y}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of dependent (left\sphinxhyphen{}hand\sphinxhyphen{}side) variable (time by entity).

\end{description}
\begin{equation*}
\begin{split}y_{it} = \beta_{1}x_{it,1}+\beta_{2}x_{it,2}+\mu+\lambda_{i}'F_{t}+\epsilon_{it}\end{split}
\end{equation*}
\sphinxAtStartPar
where
\begin{equation*}
\begin{split}\lambda_i = \binom{\lambda_{i1}}{\lambda_{i2}} \stackrel{\text{i.i.d}}{\sim}
N(0,I_2),
F_t =\binom{F_{t1}}{F_{t2}}\stackrel{\text{i.i.d}}{\sim}  N(0,I_2),\end{split}
\end{equation*}
\sphinxAtStartPar
The regressors are generated according to:
\begin{equation*}
\begin{split}X_{it,j}= 1+\lambda_{i1}F_{t1}+\lambda_{i2}F_{t2}+\lambda_{i1}+\lambda_{i2}+
F_{t1}+F_{t2}+\eta_{it,j},\end{split}
\end{equation*}
\sphinxAtStartPar
with
\begin{equation*}
\begin{split}\eta_{it,j}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
The regressors are correlated with \(\lambda_i\), \(f_t\), and the product
\(\lambda_i' F_t\).
The error term satisfies
\begin{equation*}
\begin{split}\epsilon_{it} \stackrel{\text{i.i.d}}{\sim}N(0,4).\end{split}
\end{equation*}
\end{fulllineitems}

\index{dgp\_interactive\_fixed\_effects\_model\_no\_iid() (in module src.analysis.monte\_carlo\_dgp)@\spxentry{dgp\_interactive\_fixed\_effects\_model\_no\_iid()}\spxextra{in module src.analysis.monte\_carlo\_dgp}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.monte_carlo_dgp.dgp_interactive_fixed_effects_model_no_iid}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{dgp\_interactive\_fixed\_effects\_model\_no\_iid}}}{\emph{\DUrole{n}{T}}, \emph{\DUrole{n}{N}}, \emph{\DUrole{o}{*}}, \emph{\DUrole{n}{beta1}}, \emph{\DUrole{n}{beta2}}, \emph{\DUrole{n}{mu}}, \emph{\DUrole{o}{**}\DUrole{n}{kw}}}{}
\sphinxAtStartPar
Monte carlo data generate processor for “Interactive Fixed Effects Model”
\begin{description}
\item[{T}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of time

\item[{N}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of entity

\item[{beta1}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x1

\item[{beta2}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x2

\item[{mu}] \leavevmode{[}float{]}
\sphinxAtStartPar
Constant

\end{description}
\begin{description}
\item[{X}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of Exogenous or right\sphinxhyphen{}hand\sphinxhyphen{}side variables (variable by time by
entity).

\item[{Y}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of Dependent (left\sphinxhyphen{}hand\sphinxhyphen{}side) variable (time by entity).

\end{description}
\begin{equation*}
\begin{split}y_{it} = \beta_{1}x_{it,1}+\beta_{2}x_{it,2}+\mu+\lambda_{i}'F_{t}+\epsilon_{it}\end{split}
\end{equation*}
\sphinxAtStartPar
where
\begin{equation*}
\begin{split}\lambda_i = \binom{\lambda_{i1}}{\lambda_{i2}} \stackrel{\text{i.i.d}}{\sim}
N(0,I_2),
F_{t,j}=0.7 \cdot F_{t-1,j}+ u_{t,j},\end{split}
\end{equation*}
\sphinxAtStartPar
with:
\begin{equation*}
\begin{split}u_{t,j}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
The regressors are generated according to:
\begin{equation*}
\begin{split}X_{it,j}= 1+\lambda_{i1}F_{t1}+\lambda_{i2}F_{t2}+\lambda_{i1}+\lambda_{i2}+
F_{t1}+F_{t2}+\eta_{it,j},\end{split}
\end{equation*}
\sphinxAtStartPar
with
\begin{equation*}
\begin{split}\eta_{it,j}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
The regressors are correlated with \(\lambda_i\), \(f_t\), and the product
\(\lambda_i' F_t\).
The error term satisfies
\begin{equation*}
\begin{split}\epsilon_{it} \stackrel{\text{i.i.d}}{\sim}N(0,4).\end{split}
\end{equation*}
\end{fulllineitems}

\index{dgp\_interactive\_fixed\_effects\_model\_with\_common\_and\_time\_invariant() (in module src.analysis.monte\_carlo\_dgp)@\spxentry{dgp\_interactive\_fixed\_effects\_model\_with\_common\_and\_time\_invariant()}\spxextra{in module src.analysis.monte\_carlo\_dgp}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.monte_carlo_dgp.dgp_interactive_fixed_effects_model_with_common_and_time_invariant}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{dgp\_interactive\_fixed\_effects\_model\_with\_common\_and\_time\_invariant}}}{\emph{\DUrole{n}{T}}, \emph{\DUrole{n}{N}}, \emph{\DUrole{o}{*}}, \emph{\DUrole{n}{beta1}}, \emph{\DUrole{n}{beta2}}, \emph{\DUrole{n}{mu}}, \emph{\DUrole{n}{gamma}}, \emph{\DUrole{n}{delta}}, \emph{\DUrole{o}{**}\DUrole{n}{kw}}}{}
\sphinxAtStartPar
Data generating process for “Interactive Fixed Effects Model with Common
Regressors and Time\sphinxhyphen{}invariant Regressors”
\begin{description}
\item[{T}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of time

\item[{N}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of entity

\item[{beta1}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x1

\item[{beta2}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x2

\item[{mu}] \leavevmode{[}float{]}
\sphinxAtStartPar
Constant

\item[{gamma}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x\_i

\item[{delta}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of w\_t

\end{description}
\begin{description}
\item[{X}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of exogenous or right\sphinxhyphen{}hand\sphinxhyphen{}side variables (variable by time by
entity).

\item[{Y}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of dependent (left\sphinxhyphen{}hand\sphinxhyphen{}side) variable (time by entity).

\end{description}
\begin{equation*}
\begin{split}y_{it} = \beta_{1}x_{it,1}+\beta_{2}x_{it,2}+ \mu+ x_{i}\gamma +w_{t}\delta +
\lambda_{i}'F_{t}+\epsilon_{it}\end{split}
\end{equation*}
\sphinxAtStartPar
where
\begin{equation*}
\begin{split}\lambda_i = \binom{\lambda_{i1}}{\lambda_{i2}} \stackrel{\text{i.i.d}}{\sim}
N(0,I_2),
F_t =\binom{F_{t1}}{F_{t2}}\stackrel{\text{i.i.d}}{\sim}N(0,I_2).\end{split}
\end{equation*}
\sphinxAtStartPar
The regressors are generated according to:
\begin{equation*}
\begin{split}X_{it,j}= 1+\lambda_{i1}F_{t1}+\lambda_{i2}F_{t2}+\lambda_{i1}+\lambda_{i2}+
F_{t1}+F_{t2}+\eta_{it,j},\end{split}
\end{equation*}
\sphinxAtStartPar
with
\begin{equation*}
\begin{split}\eta_{it,j}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
Additionally,  we set
\begin{equation*}
\begin{split}x_{i}=\lambda_{i1}+\lambda_{i2}+e_{i},
\qquad e_{i} \stackrel{\text{i.i.d}}{\sim} N(0,1)\end{split}
\end{equation*}
\sphinxAtStartPar
and
\begin{equation*}
\begin{split}w_{t}=F_{t1}+F_{t2}+\eta_{t},
\qquad \eta_{t} \stackrel{\text{i.i.d}}{\sim} N(0,1),\end{split}
\end{equation*}
\sphinxAtStartPar
so that \(x_{i}\) is correlated with \(\lambda_i\) and \(w_t\) is
correlated with \(f_t\).

\end{fulllineitems}

\index{dgp\_interactive\_fixed\_effects\_model\_with\_common\_and\_time\_invariant\_no\_iid() (in module src.analysis.monte\_carlo\_dgp)@\spxentry{dgp\_interactive\_fixed\_effects\_model\_with\_common\_and\_time\_invariant\_no\_iid()}\spxextra{in module src.analysis.monte\_carlo\_dgp}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.monte_carlo_dgp.dgp_interactive_fixed_effects_model_with_common_and_time_invariant_no_iid}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{dgp\_interactive\_fixed\_effects\_model\_with\_common\_and\_time\_invariant\_no\_iid}}}{\emph{\DUrole{n}{T}}, \emph{\DUrole{n}{N}}, \emph{\DUrole{o}{*}}, \emph{\DUrole{n}{beta1}}, \emph{\DUrole{n}{beta2}}, \emph{\DUrole{n}{mu}}, \emph{\DUrole{n}{gamma}}, \emph{\DUrole{n}{delta}}, \emph{\DUrole{o}{**}\DUrole{n}{kw}}}{}
\sphinxAtStartPar
Monte carlo data generate processor for “Interactive Fixed Effects Model with Common
Regressors and Time\sphinxhyphen{}invariant Regressors”
\begin{description}
\item[{T}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of time

\item[{N}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of entity

\item[{beta1}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x1

\item[{beta2}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x2

\item[{mu}] \leavevmode{[}float{]}
\sphinxAtStartPar
Constant

\item[{gamma}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x\_i

\item[{delta}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of w\_t

\end{description}
\begin{description}
\item[{X}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of Exogenous or right\sphinxhyphen{}hand\sphinxhyphen{}side variables (variable by time by
entity).

\item[{Y}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of Dependent (left\sphinxhyphen{}hand\sphinxhyphen{}side) variable (time by entity).

\end{description}
\begin{equation*}
\begin{split}y_{it} = \beta_{1}x_{it,1}+\beta_{2}x_{it,2}+ \mu+ x_{i}\gamma +w_{t}\delta +
\lambda_{i}'F_{t}+\epsilon_{it}\end{split}
\end{equation*}
\sphinxAtStartPar
where
\begin{equation*}
\begin{split}\lambda_i = \binom{\lambda_{i1}}{\lambda_{i2}} \stackrel{\text{i.i.d}}{\sim}
N(0,I_2),
F_{t,j}=0.7 \cdot F_{t-1,j}+ u_{t,j},\end{split}
\end{equation*}
\sphinxAtStartPar
with:
\begin{equation*}
\begin{split}u_{t,j}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
The regressors are generated according to:
\begin{equation*}
\begin{split}X_{it,j}= 1+\lambda_{i1}F_{t1}+\lambda_{i2}F_{t2}+\lambda_{i1}+\lambda_{i2}+
F_{t1}+F_{t2}+\eta_{it,j},\end{split}
\end{equation*}
\sphinxAtStartPar
with
\begin{equation*}
\begin{split}\eta_{it,j}\stackrel{\text{i.i.d}}{\sim} N(0,1) \qquad j\in \{1,2\}.\end{split}
\end{equation*}
\sphinxAtStartPar
Additionally,  we set
\begin{equation*}
\begin{split}x_{i}=\lambda_{i1}+\lambda_{i2}+e_{i},
\qquad e_{i} \stackrel{\text{i.i.d}}{\sim} N(0,1)\end{split}
\end{equation*}
\sphinxAtStartPar
and
\begin{equation*}
\begin{split}w_{t}=F_{t1}+F_{t2}+\eta_{t},
\qquad \eta_{t} \stackrel{\text{i.i.d}}{\sim} N(0,1),\end{split}
\end{equation*}
\sphinxAtStartPar
so that \(x_{i}\) is correlated with \(\lambda_i\) and \(w_t\) is
correlated with \(f_t\).

\end{fulllineitems}

\index{dgp\_random\_iid\_residual() (in module src.analysis.monte\_carlo\_dgp)@\spxentry{dgp\_random\_iid\_residual()}\spxextra{in module src.analysis.monte\_carlo\_dgp}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.monte_carlo_dgp.dgp_random_iid_residual}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{dgp\_random\_iid\_residual}}}{\emph{\DUrole{n}{N}}, \emph{\DUrole{n}{T}}, \emph{\DUrole{n}{r}}}{}
\sphinxAtStartPar
Data generating process for random distributed residual.Residual = Y \sphinxhyphen{} beta * X = Lambda * Factor + epsShape of residual is (N, T).

\end{fulllineitems}

\index{dgp\_time\_invariant\_fixed\_effects\_model() (in module src.analysis.monte\_carlo\_dgp)@\spxentry{dgp\_time\_invariant\_fixed\_effects\_model()}\spxextra{in module src.analysis.monte\_carlo\_dgp}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.monte_carlo_dgp.dgp_time_invariant_fixed_effects_model}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{dgp\_time\_invariant\_fixed\_effects\_model}}}{\emph{\DUrole{n}{T}}, \emph{\DUrole{n}{N}}, \emph{\DUrole{o}{*}}, \emph{\DUrole{n}{beta1}}, \emph{\DUrole{n}{beta2}}, \emph{\DUrole{o}{**}\DUrole{n}{kw}}}{}
\sphinxAtStartPar
Data generating process for “Interactive Fixed Effects Model with Common
Regressors and Time\sphinxhyphen{}invariant Regressors”
\begin{description}
\item[{T}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of time

\item[{N}] \leavevmode{[}int{]}
\sphinxAtStartPar
Sample size of entity

\item[{beta1}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x1

\item[{beta2}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of x2

\end{description}
\begin{description}
\item[{X}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of exogenous or right\sphinxhyphen{}hand\sphinxhyphen{}side variables (variable by time by
entity).

\item[{Y}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Simulate data of dependent (left\sphinxhyphen{}hand\sphinxhyphen{}side) variable (time by entity).

\end{description}
\begin{equation*}
\begin{split}y_{it} = \beta_{1}x_{it,1}+\beta_{2}x_{it,2}+\alpha_{i}+\epsilon_{it}\end{split}
\end{equation*}
\sphinxAtStartPar
The regressors are generated according to \(X_{it,j}=3+2\alpha_i+\eta_{it,j}\),
with
\begin{equation*}
\begin{split}\eta_{it,j}\stackrel{\text{i.i.d}}{\sim} N(0,1), \qquad j\in \{1,2\},\\
\alpha_i\stackrel{\text{i.i.d}}{\sim} N(0,1),\\
\epsilon_{it}\stackrel{\text{i.i.d}}{\sim} N(0,4).\end{split}
\end{equation*}
\end{fulllineitems}



\section{Monte Carlo Simulation}
\label{\detokenize{analysis:module-src.analysis.simulation}}\label{\detokenize{analysis:monte-carlo-simulation}}\label{\detokenize{analysis:src-analysis-simulation}}\index{module@\spxentry{module}!src.analysis.simulation@\spxentry{src.analysis.simulation}}\index{src.analysis.simulation@\spxentry{src.analysis.simulation}!module@\spxentry{module}}\index{simulation\_coefficient() (in module src.analysis.simulation)@\spxentry{simulation\_coefficient()}\spxextra{in module src.analysis.simulation}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.simulation.simulation_coefficient}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{simulation\_coefficient}}}{\emph{\DUrole{n}{dgp\_func}}, \emph{\DUrole{n}{all\_N}}, \emph{\DUrole{n}{all\_T}}, \emph{\DUrole{n}{nsims}}, \emph{\DUrole{o}{*}}, \emph{\DUrole{n}{need\_sde}\DUrole{o}{=}\DUrole{default_value}{False}}, \emph{\DUrole{n}{tolerance}\DUrole{o}{=}\DUrole{default_value}{0.0001}}, \emph{\DUrole{n}{r}\DUrole{o}{=}\DUrole{default_value}{2}}, \emph{\DUrole{n}{interactive\_start\_value\_effect}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}pooling\textquotesingle{}}}, \emph{\DUrole{n}{within\_effect}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}twoways\textquotesingle{}}}, \emph{\DUrole{o}{**}\DUrole{n}{beta\_true}}}{}
\sphinxAtStartPar
Monte carlo simulation to estimate beta hat and standard error of coefficient.
\begin{description}
\item[{dgp\_func}] \leavevmode{[}function{]}
\sphinxAtStartPar
One function in monte\_carlo\_dgp

\item[{all\_N}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Different sample sizes of entity

\item[{all\_T}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Different sample sizes of time

\item[{nsims}] \leavevmode{[}int{]}
\sphinxAtStartPar
Simulation times under the same N and T

\item[{need\_sde}] \leavevmode{[}bool{]}
\sphinxAtStartPar
Flag the sde caculation conditions

\item[{tolerance}] \leavevmode{[}float, optional{]}
\sphinxAtStartPar
Iteration precision.

\item[{r}] \leavevmode{[}int, optional{]}
\sphinxAtStartPar
Number of factors.

\item[{interactive\_start\_value\_effect}] \leavevmode{[}string, optional{]}
\sphinxAtStartPar
The effects used in package linearmodels for starting value, one of “pooling”,
“twoways”

\item[{within\_effect}] \leavevmode{[}string, optional{]}
\sphinxAtStartPar
The effects used in package linearmodels for within estimator, one of “twoways”,
“individual”

\item[{beta\_true}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficient of variables used in dgp\_func. Values in (“beta1”, “beta2”, “mu”,
“gamma”, “delta”)

\end{description}
\begin{description}
\item[{df\_sim\_result}] \leavevmode{[}DataFrame{]}
\sphinxAtStartPar
Columns are T, N, sim, beta\_interactive, beta\_within, sde\_interactive,
sde\_within

\end{description}

\end{fulllineitems}

\index{statistics\_coefficient() (in module src.analysis.simulation)@\spxentry{statistics\_coefficient()}\spxextra{in module src.analysis.simulation}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.simulation.statistics_coefficient}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{statistics\_coefficient}}}{\emph{\DUrole{n}{all\_N}}, \emph{\DUrole{n}{all\_T}}, \emph{\DUrole{n}{nsims}}, \emph{\DUrole{n}{df\_sim\_result}}, \emph{\DUrole{o}{**}\DUrole{n}{beta\_true}}}{}
\sphinxAtStartPar
Generate statistics of each N \& T, take the mean of different simulations, and
store them in a data frame. We include mean, bias, the RMSE, standard error and
cofidence interval in our statistical results.
\begin{description}
\item[{all\_N}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Different sample sizes of entity

\item[{all\_T}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Different sample sizes of time

\item[{nsims}] \leavevmode{[}int{]}
\sphinxAtStartPar
Simulation times under the same N and T

\item[{df\_sim\_result}] \leavevmode{[}DataFrame{]}
\sphinxAtStartPar
Simulation results from function \sphinxtitleref{simulation\_coefficient}

\item[{beta\_true}] \leavevmode{[}float{]}
\sphinxAtStartPar
Coefficients of variables used in dgp\_func. Values in (“beta1”, “beta2”, “mu”,
“gamma”, “delta”)

\end{description}

\end{fulllineitems}



\section{Estimation of slope coefficients}
\label{\detokenize{analysis:module-src.analysis.task_simulation_coefficient}}\label{\detokenize{analysis:estimation-of-slope-coefficients}}\label{\detokenize{analysis:src-analysis-task-simulation-coefficient}}\index{module@\spxentry{module}!src.analysis.task\_simulation\_coefficient@\spxentry{src.analysis.task\_simulation\_coefficient}}\index{src.analysis.task\_simulation\_coefficient@\spxentry{src.analysis.task\_simulation\_coefficient}!module@\spxentry{module}}
\sphinxAtStartPar
Task for applying different models, number of individuals and time periods to function
\sphinxtitleref{simulation\_coefficient}.


\section{Statistics}
\label{\detokenize{analysis:module-src.analysis.task_statistics_coefficient}}\label{\detokenize{analysis:statistics}}\index{module@\spxentry{module}!src.analysis.task\_statistics\_coefficient@\spxentry{src.analysis.task\_statistics\_coefficient}}\index{src.analysis.task\_statistics\_coefficient@\spxentry{src.analysis.task\_statistics\_coefficient}!module@\spxentry{module}}
\sphinxAtStartPar
Task for caculating statistical results for coefficients by using \sphinxtitleref{statistics\_coefficient}
function. The inputs of the function come from \sphinxtitleref{task\_simulation\_coefficient}.


\section{Estimation of the number of factors}
\label{\detokenize{analysis:module-src.analysis.task_simulation_factor}}\label{\detokenize{analysis:estimation-of-the-number-of-factors}}\index{module@\spxentry{module}!src.analysis.task\_simulation\_factor@\spxentry{src.analysis.task\_simulation\_factor}}\index{src.analysis.task\_simulation\_factor@\spxentry{src.analysis.task\_simulation\_factor}!module@\spxentry{module}}
\sphinxAtStartPar
Task for estimating the parameters in interactive fixed effects model by using different
numbers of factors.Task for estimating factor numbers in interactive fixed effects model by choosing
different penalty functions g1,g2,g3 with criterias PC and IC.
\index{task\_factor\_estimate\_interactive\_fixed\_effects\_model() (in module src.analysis.task\_simulation\_factor)@\spxentry{task\_factor\_estimate\_interactive\_fixed\_effects\_model()}\spxextra{in module src.analysis.task\_simulation\_factor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.task_simulation_factor.task_factor_estimate_interactive_fixed_effects_model}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{task\_factor\_estimate\_interactive\_fixed\_effects\_model}}}{\emph{\DUrole{n}{produces}}}{}
\sphinxAtStartPar
Task for estimating factor numbers in interactive fixed effects model.
We choose different penalty functions g1,g2,g3 with criterias PC and IC.

\end{fulllineitems}

\index{task\_factor\_estimate\_random\_iid\_residual() (in module src.analysis.task\_simulation\_factor)@\spxentry{task\_factor\_estimate\_random\_iid\_residual()}\spxextra{in module src.analysis.task\_simulation\_factor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.task_simulation_factor.task_factor_estimate_random_iid_residual}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{task\_factor\_estimate\_random\_iid\_residual}}}{\emph{\DUrole{n}{produces}}}{}
\sphinxAtStartPar
Task for estimating factor numbers in the model defined by the function
\sphinxtitleref{dgp\_random\_iid\_residual}.
We choose different penalty functions g1,g2,g3 with criterias PC and IC.
It replicates the result of Table 2 in Bai,Ng (2002), page 205.

\end{fulllineitems}

\index{task\_simulation\_and\_statistics\_range\_r() (in module src.analysis.task\_simulation\_factor)@\spxentry{task\_simulation\_and\_statistics\_range\_r()}\spxextra{in module src.analysis.task\_simulation\_factor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{analysis:src.analysis.task_simulation_factor.task_simulation_and_statistics_range_r}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{task\_simulation\_and\_statistics\_range\_r}}}{\emph{\DUrole{n}{depends\_on}}, \emph{\DUrole{n}{produces}}}{}
\sphinxAtStartPar
Task for estimating the parameters in interactive fixed effects model by using
different numbers of factors.

\end{fulllineitems}



\chapter{Visualisation and results formatting}
\label{\detokenize{final:visualisation-and-results-formatting}}\label{\detokenize{final:final}}\label{\detokenize{final::doc}}
\sphinxAtStartPar
Documentation of the code in \sphinxstyleemphasis{src.final}.

\sphinxAtStartPar
Execute R\sphinxhyphen{}script by pytask\sphinxhyphen{}r, for generating tables and figures used in our final paper.

\sphinxAtStartPar
Moreover, we also show that factor estimation models have good finite sample properties
in many configurations of panel data sets.


\section{Generating Figures for Coefficients}
\label{\detokenize{final:generating-figures-for-coefficients}}\phantomsection\label{\detokenize{final:module-src.final.task_figures_coefficient}}\index{module@\spxentry{module}!src.final.task\_figures\_coefficient@\spxentry{src.final.task\_figures\_coefficient}}\index{src.final.task\_figures\_coefficient@\spxentry{src.final.task\_figures\_coefficient}!module@\spxentry{module}}
\sphinxAtStartPar
Use figures to visualize the convergence properties of the estimators mentioned
in the paper, and compare how well they work in different panel data models.


\section{Generating Tables for Coefficients}
\label{\detokenize{final:generating-tables-for-coefficients}}\phantomsection\label{\detokenize{final:module-src.final.task_tables_coefficient}}\index{module@\spxentry{module}!src.final.task\_tables\_coefficient@\spxentry{src.final.task\_tables\_coefficient}}\index{src.final.task\_tables\_coefficient@\spxentry{src.final.task\_tables\_coefficient}!module@\spxentry{module}}
\sphinxAtStartPar
Use tables to show the convergence properties of the estimators mentioned in the
paper, and compare how well they work in different panel data models.


\section{Generating Figures and Tables for Factor Estimation}
\label{\detokenize{final:generating-figures-and-tables-for-factor-estimation}}\phantomsection\label{\detokenize{final:module-src.final.task_figures_tables_factor}}\index{module@\spxentry{module}!src.final.task\_figures\_tables\_factor@\spxentry{src.final.task\_figures\_tables\_factor}}\index{src.final.task\_figures\_tables\_factor@\spxentry{src.final.task\_figures\_tables\_factor}!module@\spxentry{module}}
\sphinxAtStartPar
Use figures and tables to show the properties of factor estimation models in finite
panel data sets.


\chapter{Model code}
\label{\detokenize{model_code:model-code}}\label{\detokenize{model_code:id1}}\label{\detokenize{model_code::doc}}
\sphinxAtStartPar
This directory \sphinxstyleemphasis{src.model\_code} contains interactive fixed effects model estimator and
factor number estimator, and some statistical and utility funcitons.


\section{The \sphinxstyleliteralintitle{\sphinxupquote{InteractiveFixedEffect}} class}
\label{\detokenize{model_code:module-src.model_code.interactive_fixed_effect}}\label{\detokenize{model_code:the-interactivefixedeffect-class}}\index{module@\spxentry{module}!src.model\_code.interactive\_fixed\_effect@\spxentry{src.model\_code.interactive\_fixed\_effect}}\index{src.model\_code.interactive\_fixed\_effect@\spxentry{src.model\_code.interactive\_fixed\_effect}!module@\spxentry{module}}
\sphinxAtStartPar
Calculate the interactive fixed effect estimator as described in Bai(2009). The
corresponding theory is in Chapter 3 of our report.
\index{InteractiveFixedEffect (class in src.model\_code.interactive\_fixed\_effect)@\spxentry{InteractiveFixedEffect}\spxextra{class in src.model\_code.interactive\_fixed\_effect}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.interactive_fixed_effect.InteractiveFixedEffect}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxbfcode{\sphinxupquote{InteractiveFixedEffect}}}{\emph{\DUrole{n}{dependent}}, \emph{\DUrole{n}{exog}}}{}
\sphinxAtStartPar
Interactive fixed effects estimator for panel data
\begin{description}
\item[{dependent}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Dependent (left\sphinxhyphen{}hand\sphinxhyphen{}side) variable (time by entity).

\item[{exog}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Exogenous or right\sphinxhyphen{}hand\sphinxhyphen{}side variables (variable by time by entity).

\end{description}
\begin{equation*}
\begin{split}y_{it} = \beta x_{it} + \lambda_{i}'F_{t} + \epsilon_{it}\end{split}
\end{equation*}\index{calculate\_sde() (InteractiveFixedEffect method)@\spxentry{calculate\_sde()}\spxextra{InteractiveFixedEffect method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.interactive_fixed_effect.InteractiveFixedEffect.calculate_sde}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{calculate\_sde}}}{\emph{\DUrole{n}{beta\_hat}}, \emph{\DUrole{n}{f\_hat}}, \emph{\DUrole{n}{lambda\_hat}}}{}
\sphinxAtStartPar
Calculate standard error of beta\_hat estimated from fit

\end{fulllineitems}

\index{fit() (InteractiveFixedEffect method)@\spxentry{fit()}\spxextra{InteractiveFixedEffect method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.interactive_fixed_effect.InteractiveFixedEffect.fit}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{fit}}}{\emph{\DUrole{n}{r}}, \emph{\DUrole{n}{beta\_hat\_0}\DUrole{o}{=}\DUrole{default_value}{None}}, \emph{\DUrole{n}{tolerance}\DUrole{o}{=}\DUrole{default_value}{0.0001}}}{}
\sphinxAtStartPar
Estimate parameters of different model
\begin{description}
\item[{r}] \leavevmode{[}int{]}
\sphinxAtStartPar
Number of factors.

\item[{beta\_hat\_0: array\sphinxhyphen{}like, optional}] \leavevmode
\sphinxAtStartPar
Starting values of estimator. Should be same order as exog variable.

\item[{tolerance}] \leavevmode{[}float, optional{]}
\sphinxAtStartPar
Iteration precision.

\end{description}
\begin{description}
\item[{beta\_hat}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Estimate the result of slope coefficients. Same order as exog variable.

\item[{beta\_hat\_list}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Iteration intermediate values.

\item[{f\_hat}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Estimate the result of time fixed effects.

\item[{lambda\_hat}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Estimate the result of individual fixed effects.

\end{description}

\end{fulllineitems}


\end{fulllineitems}



\section{The \sphinxstyleliteralintitle{\sphinxupquote{Statistics}} module}
\label{\detokenize{model_code:module-src.model_code.statistics}}\label{\detokenize{model_code:the-statistics-module}}\index{module@\spxentry{module}!src.model\_code.statistics@\spxentry{src.model\_code.statistics}}\index{src.model\_code.statistics@\spxentry{src.model\_code.statistics}!module@\spxentry{module}}
\sphinxAtStartPar
Some pure functions to caculate statistical results
\index{caculate\_rmse() (in module src.model\_code.statistics)@\spxentry{caculate\_rmse()}\spxextra{in module src.model\_code.statistics}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.statistics.caculate_rmse}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{caculate\_rmse}}}{\emph{\DUrole{n}{estimated}}, \emph{\DUrole{n}{real}}}{}
\sphinxAtStartPar
Caculate the root\sphinxhyphen{}mean\sphinxhyphen{}square\sphinxhyphen{}error
\begin{description}
\item[{estimated}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Estimated value

\item[{real}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Real value

\end{description}

\end{fulllineitems}

\index{caculate\_sde() (in module src.model\_code.statistics)@\spxentry{caculate\_sde()}\spxextra{in module src.model\_code.statistics}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.statistics.caculate_sde}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{caculate\_sde}}}{\emph{\DUrole{n}{estimated}}}{}
\sphinxAtStartPar
Caculate standard error
\begin{description}
\item[{estimated}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
Estimated value

\end{description}

\end{fulllineitems}



\section{The \sphinxstyleliteralintitle{\sphinxupquote{utils}} module}
\label{\detokenize{model_code:module-src.model_code.utils}}\label{\detokenize{model_code:the-utils-module}}\index{module@\spxentry{module}!src.model\_code.utils@\spxentry{src.model\_code.utils}}\index{src.model\_code.utils@\spxentry{src.model\_code.utils}!module@\spxentry{module}}
\sphinxAtStartPar
Some pure functions used frequently.
\index{paste() (in module src.model\_code.utils)@\spxentry{paste()}\spxextra{in module src.model\_code.utils}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.utils.paste}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{paste}}}{\emph{\DUrole{o}{*}\DUrole{n}{lists}}, \emph{\DUrole{n}{sep}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{} \textquotesingle{}}}, \emph{\DUrole{n}{collapse}\DUrole{o}{=}\DUrole{default_value}{None}}}{}
\sphinxAtStartPar
Concatenate vectors after converting to character.
Implement the function \sphinxtitleref{Paste} in R.
\begin{description}
\item[{lists}] \leavevmode{[}array\sphinxhyphen{}like{]}
\sphinxAtStartPar
One or more objects, to be converted into character vectors.

\item[{sep}] \leavevmode{[}string{]}
\sphinxAtStartPar
A character string used to separate the terms

\item[{collapse}] \leavevmode{[}string{]}
\sphinxAtStartPar
An optional character string used to separate the results

\end{description}

\end{fulllineitems}

\index{paste0() (in module src.model\_code.utils)@\spxentry{paste0()}\spxextra{in module src.model\_code.utils}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.utils.paste0}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{paste0}}}{\emph{\DUrole{o}{*}\DUrole{n}{lists}}, \emph{\DUrole{n}{collapse}\DUrole{o}{=}\DUrole{default_value}{None}}}{}
\sphinxAtStartPar
paste0(…, collapse) is similar to paste(…, sep = “”, collapse), but the former
one is slightly more efficient.

\end{fulllineitems}

\index{reduce\_concat() (in module src.model\_code.utils)@\spxentry{reduce\_concat()}\spxextra{in module src.model\_code.utils}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.utils.reduce_concat}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{reduce\_concat}}}{\emph{\DUrole{n}{x}}, \emph{\DUrole{n}{sep}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}\textquotesingle{}}}}{}
\sphinxAtStartPar
Join a list into one string.

\end{fulllineitems}

\index{stretch() (in module src.model\_code.utils)@\spxentry{stretch()}\spxextra{in module src.model\_code.utils}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{model_code:src.model_code.utils.stretch}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{stretch}}}{\emph{\DUrole{n}{lists}}}{}
\sphinxAtStartPar
Stretch lists to same length.
Shorter lists is repeated to reach the same length as the longest.

\end{fulllineitems}



\chapter{Model specifications}
\label{\detokenize{model_specs:model-specifications}}\label{\detokenize{model_specs:id1}}\label{\detokenize{model_specs::doc}}
\sphinxAtStartPar
The directory \sphinxstyleemphasis{src.model\_specs} contains \sphinxhref{http://www.json.org/}{JSON} files with model specifications.

\sphinxAtStartPar
These json files contain parameters for {\hyperref[\detokenize{analysis:src-analysis-simulation}]{\sphinxcrossref{\DUrole{std,std-ref}{Monte Carlo Simulation}}}}.
They are used in {\hyperref[\detokenize{analysis:src-analysis-task-simulation-coefficient}]{\sphinxcrossref{\DUrole{std,std-ref}{Estimation of slope coefficients}}}} to determine which panel data model to be used in each simulation.


\chapter{Research paper / presentations}
\label{\detokenize{paper:research-paper-presentations}}\label{\detokenize{paper:paper}}\label{\detokenize{paper::doc}}
\sphinxAtStartPar
Purpose of the different files:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{paper.tex}} contains the actual paper.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{slides.tex}} contains a typical conference presentation.

\end{itemize}


\chapter{References}
\label{\detokenize{references:references}}\label{\detokenize{references:id1}}\label{\detokenize{references::doc}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Bai, J. (2009). Panel data models with interactive fixed effects. Econometrica, 77(4), 1229\sphinxhyphen{}1279.

\item {} 
\sphinxAtStartPar
Bai, J., \& Ng, S. (2002). Determining the number of factors in approximate factor models. Econometrica, 70(1), 191\sphinxhyphen{}221.

\item {} 
\sphinxAtStartPar
Baltagi, B. H., \& Levin, D. (1992). Cigarette taxation: Raising revenues and reducing consumption. Structural Change and Economic Dynamics, 3(2), 321\sphinxhyphen{}335.

\item {} 
\sphinxAtStartPar
Greene, W. H. (2003). Econometric analysis. Pearson Education.

\item {} 
\sphinxAtStartPar
Holtz\sphinxhyphen{}Eakin, D., Newey, W., \& Rosen, H. S. (1988). Estimating vector autoregressions with panel data. Econometrica: Journal of the econometric society, 1371\sphinxhyphen{}1395.

\item {} 
\sphinxAtStartPar
Moon, H. R., \& Weidner, M. (2015). Linear regression for panel with unknown number of factors as interactive fixed effects. Econometrica, 83(4), 1543\sphinxhyphen{}1579.

\item {} 
\sphinxAtStartPar
Pesaran, M. H. (2006). Estimation and inference in large heterogeneous panels with a multifactor error structure. Econometrica, 74(4), 967\sphinxhyphen{}1012.

\item {} 
\sphinxAtStartPar
Stock, J. H., \& Watson, M. W. (2002). Forecasting using principal components from a large number of predictors. Journal of the American statistical association, 97(460), 1167\sphinxhyphen{}1179.

\item {} 
\sphinxAtStartPar
Su, L., \& Jin, S. (2012). Sieve estimation of panel data models with cross section dependence. Journal of Econometrics, 169(1), 34\sphinxhyphen{}47.

\item {} 
\sphinxAtStartPar
Westerlund, J. (2019). On estimation and inference in heterogeneous panel regressions with interactive effects. Journal of Time Series Analysis, 40(5), 852\sphinxhyphen{}857.

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{a}
\item\relax\sphinxstyleindexentry{src.analysis.monte\_carlo\_dgp}\sphinxstyleindexpageref{analysis:\detokenize{module-src.analysis.monte_carlo_dgp}}
\item\relax\sphinxstyleindexentry{src.analysis.simulation}\sphinxstyleindexpageref{analysis:\detokenize{module-src.analysis.simulation}}
\item\relax\sphinxstyleindexentry{src.analysis.task\_simulation\_coefficient}\sphinxstyleindexpageref{analysis:\detokenize{module-src.analysis.task_simulation_coefficient}}
\item\relax\sphinxstyleindexentry{src.analysis.task\_simulation\_factor}\sphinxstyleindexpageref{analysis:\detokenize{module-src.analysis.task_simulation_factor}}
\item\relax\sphinxstyleindexentry{src.analysis.task\_statistics\_coefficient}\sphinxstyleindexpageref{analysis:\detokenize{module-src.analysis.task_statistics_coefficient}}
\indexspace
\bigletter{d}
\item\relax\sphinxstyleindexentry{src.data\_management.task\_get\_cigar\_data}\sphinxstyleindexpageref{data_management:\detokenize{module-src.data_management.task_get_cigar_data}}
\indexspace
\bigletter{f}
\item\relax\sphinxstyleindexentry{src.final.task\_figures\_coefficient}\sphinxstyleindexpageref{final:\detokenize{module-src.final.task_figures_coefficient}}
\item\relax\sphinxstyleindexentry{src.final.task\_figures\_tables\_factor}\sphinxstyleindexpageref{final:\detokenize{module-src.final.task_figures_tables_factor}}
\item\relax\sphinxstyleindexentry{src.final.task\_tables\_coefficient}\sphinxstyleindexpageref{final:\detokenize{module-src.final.task_tables_coefficient}}
\indexspace
\bigletter{m}
\item\relax\sphinxstyleindexentry{src.model\_code.interactive\_fixed\_effect}\sphinxstyleindexpageref{model_code:\detokenize{module-src.model_code.interactive_fixed_effect}}
\item\relax\sphinxstyleindexentry{src.model\_code.statistics}\sphinxstyleindexpageref{model_code:\detokenize{module-src.model_code.statistics}}
\item\relax\sphinxstyleindexentry{src.model\_code.utils}\sphinxstyleindexpageref{model_code:\detokenize{module-src.model_code.utils}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}